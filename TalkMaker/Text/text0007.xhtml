<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja" xmlns:epub="http://www.idpf.org/2007/ops">
<head>
<meta charset="UTF-8"/>
<link href="../Styles/styles_epub.css" rel="stylesheet" type="text/css" media="all"/>
<title>まるっとまとめてゲットだぜ！</title><body><h3 class="title">まるっとまとめてゲットだぜ！</h3><HR/><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「よし、では呪文その２だね」
						</div><p class="iconClear"><BR> </p><img src="../Images/7ef8e804f2888cda9788cd09f3d0bbb6.png" class="iconL" width="30%"/><div>
						「じゅっじゅっ呪文～♪<p>　はにわはにわで土っ器土器～」</p>
</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「またよくわからない表現を……」
						</div><p class="iconClear"><BR> </p><img src="../Images/8a317542d7d5bd9128a095f647d85e3c.png" class="iconL" width="30%"/><div>
						「える・えむ・えす・さいず……。ワレは求め訴えたり……」
						</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「変なもの呼び出すんじゃない！」（すぱーん！）
						</div><p class="iconClear"><BR> </p><img src="../Images/8a317542d7d5bd9128a095f647d85e3c.png" class="iconL" width="30%"/><div>
						「いたあーぃ＞＜<p>　ダイエット呪文ですよぅー＞＜」</p>
</div><p class="iconClear"><BR> </p><img src="../Images/3deeaaffb38e770358a14861110b5517.jpg" class="iconL" width="30%"/><div>
						「まあまあ、あんまり相手しているとまた話がすすみませんわよ？」
						</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「そ、そうだったな……。<p><br/></p><p>　それで、呪文②とはいったい？？」</p>
</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「あ、ああ。<p>　フォルダの中をよく見てごらん。もう一つ pyと後ろについたスクリプトファイルがあるだろう？」</p>
</div><p class="iconClear"><BR> </p><div class="img_Center"><img src="../Images/0b6086ea0d0828a8caba5073280be21d.png" width="70%"></div><div class="r mt10 f72">
</div><p><br></p><img src="../Images/3deeaaffb38e770358a14861110b5517.jpg" class="iconL" width="30%"/><div>
						「本当ですわ、先ほど使った TalkGet.py のほかに allStorys.py というものもありますわね」
						</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「オール・ストーリーズ……。まさか……？」
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「そう、そのまさかさ。<p>　こいつは、目次からそのトーク作品のすべてのストーリー（エピソード）をまとめて取得してくるプログラムなんだ」</p>
</div><p class="iconClear"><BR> </p><img src="../Images/3deeaaffb38e770358a14861110b5517.jpg" class="iconL" width="30%"/><div>
						「それは……。もしかしてそのプログラムを実行するだけでEpubの本が作れてしまうのでは……？」
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「そういうことだな。<p>　少しSigilで加工処理は必要だけれどもね。」</p>
</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「そ、それは本当にすごいです！！」
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「実行は先ほどとおなじように、コマンドプロンプトでこのように打つだけでいい」
						</div><p class="iconClear"><BR> </p><div>
										python allStorys.py 
					</div><p><br></p><img src="../Images/3deeaaffb38e770358a14861110b5517.jpg" class="iconL" width="30%"/><div>
						「たったこれだけでよろしいのですの？」
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「もちろん。<p>　ああ、もちろんそれでもいいのだけれど、このつぎに取得したいストーリーのURLがあるとなお良いね。</p><p>　トークメーカーで開く、その作品全体の目次のあるページがあるだろう？」</p><p></p>
</div><p class="iconClear"><BR> </p><img src="../Images/d285ffa126e9d2147b0c59e4326bf556.PNG" class="iconR" width="30%"/><div>
						いわゆる『作品ページ』のことだ。例えば本作『もしも経験のない女子高生がトーク作品をEpub化して電子書籍にしてしまったら』では、<p><a href="https://talkmaker.com/works/37f020a91fa6c9ea8c38ed71c24bf237.html" target="_blank">https://talkmaker.com/works/37f020a91fa6c9ea8c38ed71c24bf237.html</a><br/></p><p>のことである。</p>
</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「その目次ページのURLをここの後ろに入れればいい。<p>　URLを入れるとコマンドラインはかなり長くなってしまうが</p>
</div><p class="iconClear"><BR> </p><div>
<p><font size="2">python allStorys.py https://talkmaker.com/works/37f020a91fa6c9ea8c38ed71c24bf237.html<br/></font></p><p><br/></p>
</div><p><br></p><div class="img_Center"><img src="../Images/cc337ef795c3d711c9a4b5f57424fa58.png" width="100%"></div><div class="r mt10 f72">
</div><p><br></p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
<p>こんな感じだな。</p><p>この白バックの文字をコピペしたらいいよ。</p><p><br/></p><p>ちなみに、何も入れないと、『<a href="https://talkmaker.com/works/e39da839e2d4cf3d1706b528d846e7ba.html" target="_blank">もしも敬虔な女子高生が〈神は死んだ〉のニーチェ作『ツァラトゥストラ』を読んだなら</a>』のほうのトップページが自動で入るようになっている。</p><p>それをそのまま実行するとけっこう時間がかかってしまうはずだから、このURL付きをコピペしたほうがいいかもしれないな。」</p>
</div><p class="iconClear"><BR> </p><img src="../Images/7ef8e804f2888cda9788cd09f3d0bbb6.png" class="iconL" width="30%"/><div>
						「コピっと☆<p>　これで、エンターを押したらいいんですか？」</p>
</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「そういうこと。」
						</div><p class="iconClear"><BR> </p><img src="../Images/7ef8e804f2888cda9788cd09f3d0bbb6.png" class="iconL" width="30%"/><div>
						「やらせてやらせてー！<p><br/></p><p>　♪えーんたー　えんたー　みっしょーん！♪</p><p><br/></p><p>　ぽちっとな！」</p>
</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「それがやりたかっただけか……」
						</div><p class="iconClear"><BR> </p><div class="img_Center"><img src="../Images/46dd71692e4d6ac08986fcdd36c88d5a.png" width="70%"></div><div class="r mt10 f72">
</div><p><br></p><img src="../Images/7ef8e804f2888cda9788cd09f3d0bbb6.png" class="iconL" width="30%"/><div>
						「わわわっ！　ぶわっ！　ってたくさん出てきたっ！！　(´；ω；｀)ﾌﾞﾜｯ」
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「大丈夫、正常に動作している」
						</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「いえ、たぶんその泣き顔も言ってみたかっただけです、きっと……」
						</div><p class="iconClear"><BR> </p><img src="../Images/7ef8e804f2888cda9788cd09f3d0bbb6.png" class="iconL" width="30%"/><div>
						「てへぺろ！☆」
						</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「まったくもう。。<p><br/></p><p>　ところで、画面を見ていると、エピソードを読み込んだあと、ーーーー１５秒間停止中ーーーーと言ってとまっていますけれど、これは？」</p>
</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「ああ、サーバーに負荷を与えかねないプログラムなのでね、あまり一気に取り込まないようにしているんだ。だから、一つのエピソードをたとえ１秒で読み込んだとしても、そのあと１５秒何もせずに停止してから、次のエピソードに進むようにしてある。なので、１エピソードごとに１６秒ぐらいかかる計算だね。<p>　たとえば１００話あるお話だと、１６００秒必要ってことさ」<br/></p>
</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「すると、一時間は３６００秒ですから、１００話に３０分ぐらいかかるわけですね」
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「計算上は２６分強になるが、まあ１秒以上かかる話もあるだろうし、そんなものかな。<p>　それでも、手でひとつひとつやることを考えたらものすごく楽だとは思わないかい？」</p>
</div><p class="iconClear"><BR> </p><img src="../Images/3deeaaffb38e770358a14861110b5517.jpg" class="iconL" width="30%"/><div>
						「それはもう！！　ものすごく楽ですわ！！♡」
						</div><p class="iconClear"><BR> </p><img src="../Images/d285ffa126e9d2147b0c59e4326bf556.PNG" class="iconR" width="30%"/><div>
						実際、このプログラムを知るまではちまちまと手作業ですべてをやろうとしていたのだ。感激はひとしおだろう。
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「途中で止めたくなったら [Ctrl]キーと[C]キーを同時押しして強制終了してくれ」
						</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「そうこう言っている間にーーーー終了ーーーーとでました。おわりましたね」
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「みたいだね。ではそれをSigilで読み込んでごらん？」
						</div><p class="iconClear"><BR> </p><div class="img_Center"><img src="../Images/0429d921225c4c4ac2e17d30fe7ddfad.png" width="70%"></div><div class="r mt10 f72">
</div><p><br></p><div class="img_Center"><img src="../Images/ef5224fda90ebc810c50528dc9720bb6.png" width="70%"></div><div class="r mt10 f72">
</div><p><br></p><img src="../Images/7ef8e804f2888cda9788cd09f3d0bbb6.png" class="iconL" width="30%"/><div>
						「読み込みっと！」
						</div><p class="iconClear"><BR> </p><div class="img_Center"><img src="../Images/148825d922a067ccecf35d7853c638e1.png" width="100%"></div><div class="r mt10 f72">
</div><p><br></p><img src="../Images/7ef8e804f2888cda9788cd09f3d0bbb6.png" class="iconL" width="30%"/><div>
						「わ、でた！」
						</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「すごい！　目次も最初からはいってます！」
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「下のほうにスクロールしてごらん？」
						</div><p class="iconClear"><BR> </p><div class="img_Center"><img src="../Images/6046ec467af349b25a1e3f2083a934b3.png" width="70%"></div><div class="r mt10 f72">
</div><p><br></p><img src="../Images/7ef8e804f2888cda9788cd09f3d0bbb6.png" class="iconL" width="30%"/><div>
						「わわわっ！　私たちが出てる！！」
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「そこは登場人物紹介だね。<p>　目次のほかにも作品ページに書かれている説明文、それにタイトル画像、それとこの登場人物紹介も自動で取り込むようにしておいたよ」</p>
</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「すっ、すごすぎます！！」
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「これでHTML版の目次はできているから、あとはSigilの[ツール]ー＞[目次]ー＞[目次の生成]でシステム目次（端末の目次機能から呼び出す）を作れば、だいたいEpub電子書籍はつくれてしまうんではないかな？」
						</div><p class="iconClear"><BR> </p><div class="img_Center"><img src="../Images/32080485c9360fe15bfaa24e8816ec12.png" width="70%"></div><div class="r mt10 f72">
</div><p><br></p><div class="img_Center"><img src="../Images/ae3468e2df33b67b147458bdb88a2007.png" width="70%"></div><div class="r mt10 f72">
</div><p><br></p><img src="../Images/3deeaaffb38e770358a14861110b5517.jpg" class="iconL" width="30%"/><div>
						「うわ、すごい。これももう最初からはいっていますね！」
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「うん、ここでOKを押すだけで基本は大丈夫だとおもう」
						</div><p class="iconClear"><BR> </p><div class="img_Center"><img src="../Images/7de3828dcad0cbec8c502e1b716b43d4.png" width="100%"></div><div class="r mt10 f72">
</div><p><br></p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「す……すごいです……」
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						「ああ、あとは表紙だな。これも[ツール]ー＞[表紙の追加]で絵を指定してやるだけでいい。この場合は目次ページで表紙も含んでいるから不要かもしれないけれどね」<p><br/></p>
</div><p class="iconClear"><BR> </p><img src="../Images/d285ffa126e9d2147b0c59e4326bf556.PNG" class="iconR" width="30%"/><div>
						Amazon Kindle（KDP）等で出版する場合は表紙画像が必須だという話も聞いたことがある。これは各社状況が違うと思われるので、各自で試してみてほしい。
						</div><p class="iconClear"><BR> </p><img src="../Images/3deeaaffb38e770358a14861110b5517.jpg" class="iconL" width="30%"/><div>
						「これで、ものすごく、ほんとうにものすごく楽になりますわ！　すてきです！！」
						</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「すばらしいですよ。。さすがは兄さまです」
						</div><p class="iconClear"><BR> </p><img src="../Images/8a317542d7d5bd9128a095f647d85e3c.png" class="iconL" width="30%"/><div>
						「ふあああ～。なんだかラクチンすぎて、AIに人間の仕事を取られちゃった気がしますねー」
						</div><p class="iconClear"><BR> </p><img src="../Images/7ef8e804f2888cda9788cd09f3d0bbb6.png" class="iconL" width="30%"/><div>
						「ええっ!　じゃあお話書くのもやってくれちゃったりして！？」
						</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						「こらこら、それはやらなきゃだめだろう」
						</div><p class="iconClear"><BR> </p><img src="../Images/7ef8e804f2888cda9788cd09f3d0bbb6.png" class="iconL" width="30%"/><div>
						「あはは～。ですよねー＞＜」
						</div><p class="iconClear"><BR> </p><img src="../Images/902c14a0d92e6194e277aad7aa072aaf.jpg" class="iconL" width="30%"/><div>
						（すくなくとも、いまは、まだ……）
						</div><p class="iconClear"><BR> </p><img src="../Images/d285ffa126e9d2147b0c59e4326bf556.PNG" class="iconR" width="30%"/><div>
						なんて、最後にそれっぽく栞理が思っていると……。
						</div><p class="iconClear"><BR> </p><img src="../Images/540e1ea00b142f67700903c21d6f71e3.png" class="iconR" width="30%"/><div>
						（ああ、じゃあこれは教えなくていいか。まだ未完成だしな……）
						</div><p class="iconClear"><BR> </p><div class="img_Center"><img src="../Images/425d786cee72ffedc2d5ea937ed3423c.jpg" width="50%"></div><div class="r mt10 f72">
</div><p><br></p><img src="../Images/d285ffa126e9d2147b0c59e4326bf556.PNG" class="iconR" width="30%"/><div>
						と、何かをポケットに戻す、その兄であった。<p></p><p><br/></p><p>しかし、その姿を、寝ぼけた視線でじーーーーーっと見ている怪しい影が、亜空間のすみの布団の上にあった。</p><p></p>
</div><p class="iconClear"><BR> </p><img src="../Images/953ee7fefd3966ecee2ac3b4aa5f3cef.jpg" class="iconR" width="30%"/><div>
						（じーーーー）
						</div><p class="iconClear"><BR> </p><div>
										＜まだつづく？　かも？＞
					</div><p><br></p><img src="../Images/d285ffa126e9d2147b0c59e4326bf556.PNG" class="iconR" width="30%"/><div>
						そうそう、この作業で作成されたEPUBファイルは、<p><br/></p><p><a href="https://github.com/kagurazakarasen/TalkMakerToEpub/blob/master/Doc/MoshiPub.epub" target="_blank">https://github.com/kagurazakarasen/TalkMakerToEpub/blob/master/Doc/MoshiPub.epub<br/></a></p><p></p><p><br/></p><p>こちらに入れてある。Epubファイルを読める環境がある方は参考にしていただきたい。</p><p>Sigilでシステム目次を作成しただけの本作品のEpubファイルである。</p><p>それにしても、わずか数クリックでコレだけのものが生成されてしまうのはおどろきだ。</p><p>トークメーカーで作品を公開しているセルフパブリッシャーには朗報であろう。</p>
</div><p class="iconClear"><BR> </p></BODY></HTML>